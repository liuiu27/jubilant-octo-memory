<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cupdata.content.dao.ContentDao">

  <resultMap id="BaseResultMap" type="com.cupdata.commons.vo.content.ContentTransaction">
        <result column="ID" property="id" jdbcType="INTEGER"/>
		<result column="TRAN_NO" property="sipTranNo" jdbcType="VARCHAR"/>
		<result column="PRODUCT_NO" property="productNo" jdbcType="VARCHAR"/>
		<result column="TRAN_TYPE" property="tranType" jdbcType="VARCHAR"/>
		<result column="TRAN_DESC" property="tranDesc" jdbcType="VARCHAR"/>
		<result column="ORG_NO" property="orgNo" jdbcType="VARCHAR"/>
		<result column="SUP_NO" property="supNo" jdbcType="VARCHAR"/>
		<result column="REQUEST_INFO" property="requestInfo" jdbcType="VARCHAR"/>
		<result column="CREATE_BY" property="createBy" jdbcType="VARCHAR"/>
        <result column="CREATE_DATE" property="createDate" jdbcType="DATE"/>
        <result column="UPDATE_BY" property="updateBy" jdbcType="VARCHAR"/>
		<result column="UPDATE_DATE" property="updateDate" jdbcType="DATE"/>
    </resultMap>
	
	<sql id="Base_Column_List">
	ID,
	TRAN_NO,
	PRODUCT_NO,
	TRAN_TYPE,
	TRAN_DESC,
	ORG_NO,
	SUP_NO,
	REQUEST_INFO,
	CREATE_BY,
	CREATE_DATE,
	UPDATE_BY,
	UPDATE_DATE
    </sql>
    
	<select id="selectAll" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from service_content_transaction_log
		where 1=1
		<if test=" id != null and id != ''">
			 and ID = #{id}
		</if>
		<if test=" sipTranNo != null and sipTranNo != ''">
			 and TRAN_NO = #{sipTranNo}
		</if>
		<if test=" productNo != null and productNo != ''">
			 and PRODUCT_NO = #{productNo}
		</if>
		<if test=" tranType != null and tranType != ''">
			 and TRAN_TYPE = #{tranType}
		</if>
		<if test=" tranDesc != null and tranDesc != ''">
			 and TRAN_DESC = #{tranDesc}
		</if>
		<if test=" orgNo != null and orgNo != ''">
			 and ORG_NO = #{orgNo}
		</if>
		<if test=" supNo != null and supNo != ''">
			 and SUP_NO = #{supNo}
		</if>
		<if test=" requestInfo != null and requestInfo != ''">
			 and REQUEST_INFO = #{requestInfo}
		</if>
		<if test=" createBy != null and createBy != ''">
			 and CREATE_BY = #{createBy}
		</if>
		<if test=" createDate != null ">
			 and CREATE_DATE = #{createDate}
		</if>
		<if test=" updateBy != null and updateBy != ''">
			 and UPDATE_BY = #{updateBy}
		</if>
		<if test=" updateDate != null ">
			 and UPDATE_DATE = #{updateDate}
		</if>
	</select> 
	
	<select id="selectSingle" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from service_content_transaction_log
		where 1=1
		<if test=" id != null and id != ''">
			 and ID = #{id}
		</if>
		<if test=" sipTranNo != null and sipTranNo != ''">
			 and TRAN_NO = #{sipTranNo}
		</if>
		<if test=" productNo != null and productNo != ''">
			 and PRODUCT_NO = #{productNo}
		</if>
		<if test=" tranType != null and tranType != ''">
			 and TRAN_TYPE = #{tranType}
		</if>
		<if test=" tranDesc != null and tranDesc != ''">
			 and TRAN_DESC = #{tranType}
		</if>
		<if test=" orgNo != null and orgNo != ''">
			 and ORG_NO = #{orgNo}
		</if>
		<if test=" supNo != null and supNo != ''">
			 and SUP_NO = #{supNo}
		</if>
		<if test=" requestInfo != null and requestInfo != ''">
			 and REQUEST_INFO = #{requestInfo}
		</if>
		<if test=" createBy != null and createBy != ''">
			 and CREATE_BY = #{createBy}
		</if>
		<if test=" createDate != null ">
			 and CREATE_DATE = #{createDate}
		</if>
		<if test=" updateBy != null and updateBy != ''">
			 and UPDATE_BY = #{updateBy}
		</if>
		<if test=" updateDate != null ">
			 and UPDATE_DATE = #{updateDate}
		</if>
		limit 1
	</select> 
	
	<insert id="insert" useGeneratedKeys="true" keyProperty="id" parameterType="com.cupdata.commons.vo.content.ContentTransaction">
		INSERT INTO service_content_transaction_log (
			  TRAN_NO,
			  PRODUCT_NO,
			  TRAN_TYPE,
			  TRAN_DESC,
			  ORG_NO,
			  SUP_NO,
			  REQUEST_INFO,
			  CREATE_BY,
			  CREATE_DATE
			) 
			VALUES
			  (
			    #{sipTranNo},
			    #{productNo},
			    #{tranType},
			    #{tranDesc},
			    #{orgNo},
			    #{supNo},
			    #{requestInfo},
			    #{createBy},
			    now()
			  ) 
	</insert>
	
	
	
	<update id="update" parameterType="com.cupdata.commons.vo.content.ContentTransaction">
		update 
	  	service_content_transaction_log
		set
		  TRAN_NO= #{sipTranNo},
		  PRODUCT_NO= #{productNo},
		  TRAN_TYPE= #{tranType},
		  TRAN_DESC= #{tranDesc},
		  ORG_NO= #{orgNo},
		  SUP_NO= #{supNo},
		  REQUEST_INFO= #{requestInfo},
		  UPDATE_BY= #{updateBy},
		  UPDATE_DATE= #{updateDate}
		where ID= #{id} 
	</update>
	
</mapper>